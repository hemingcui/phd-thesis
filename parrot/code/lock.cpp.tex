% Remember to use the lgrind style

\Head{}
\File{lock.cpp}{2014}{12}{21}{1:52}{414}
\index{wrap\_mutex\_lock}\Proc{wrap\_mutex\_lock}\L{\LB{\K{int}_\V{wrap\_mutex\_lock}(\V{pthread\_mutex\_t}_*\V{mu})\{}}
\L{\LB{}\Tab{2}{\V{scheduler}.\V{get\_turn}();}}
\L{\LB{}\Tab{2}{\K{while}(\V{pthread\_mutex\_trylock}(\V{mu}))}}
\L{\LB{}\Tab{4}{\V{scheduler}.\V{wait}(\V{mu},_\N{0});}}
\L{\LB{}\Tab{2}{\V{scheduler}.\V{put\_turn}();}}
\L{\LB{}\Tab{2}{\K{return}_\N{0};_\C{}/*_error_handling_is_omitted_for_clarity._*/\CE{}}}
\L{\LB{\}}}
\index{wrap\_mutex\_unlock}\Proc{wrap\_mutex\_unlock}\L{\LB{\K{int}_\V{wrap\_mutex\_unlock}(\V{pthread\_mutex\_t}_*\V{mu})\{}}
\L{\LB{}\Tab{2}{\V{scheduler}.\V{get\_turn}();}}
\L{\LB{}\Tab{2}{\V{pthread\_mutex\_unlock}(\V{mu});}}
\L{\LB{}\Tab{2}{\V{scheduler}.\V{signal}(\V{mu});}}
\L{\LB{}\Tab{2}{\V{scheduler}.\V{put\_turn}();}}
\L{\LB{}\Tab{2}{\K{return}_\N{0};_\C{}/*_error_handling_is_omitted_for_clarity._*/\CE{}}}
\L{\LB{\}}}
