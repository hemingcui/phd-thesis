% Remember to use the lgrind style

\Head{}
\File{intrathread\-slicing.cpp.lineno}{2014}{12}{18}{0:10}{3440}
\index{slice}\Proc{slice}\L{\LB{\N{1}_\V{:}_\V{slice}(\V{trace})_\{}}
\L{\LB{\N{2}_\V{:}}\Tab{7}{\V{cur}_=_\V{remove}_\V{tail}_\V{from}_\V{trace}}}
\L{\LB{\N{3}_\V{:}_}}
\L{\LB{\N{4}_\V{:}}\Tab{7}{\K{if}(\V{cur}_\V{is}_\V{phi})_\{}}
\L{\LB{\N{5}_\V{:}}\Tab{10}{\K{if}(\V{value}_\V{of}_\V{cur}_\V{in}_\V{live})_\{}}
\L{\LB{\N{6}_\V{:}}\Tab{13}{\V{take}_\V{cur}}}
\L{\LB{\N{7}_\V{:}}\Tab{13}{\V{find}_\V{immediate}_\V{predecessor}_\V{of}_\V{cur}}\Tab{48}{\V{that}_\V{is}_\V{executed}}}
\L{\LB{\N{8}_\V{:}}\Tab{13}{\V{take}_\V{operand}_\V{of}_\V{cur}_\V{corresponding}_\V{to}_\K{this}_\V{predecessor}}}
\L{\LB{\N{9}_\V{:}}\Tab{13}{\V{remove}_\V{cur}_\V{from}_\V{live}}}
\L{\LB{\N{10}\V{:}}\Tab{10}{\}}}
\L{\LB{\N{11}\V{:}}\Tab{7}{\}_\K{else}_\K{if}(\V{cur}_\V{is}_\V{non}\-\V{mem}_\V{instruction})_\{}}
\L{\LB{\N{12}\V{:}}\Tab{10}{\K{if}(\V{value}_\V{of}_\V{cur}_\V{in}_\V{live})_\{}}
\L{\LB{\N{13}\V{:}}\Tab{14}{\V{take}_\V{cur}}}
\L{\LB{\N{14}\V{:}}\Tab{14}{\V{add}_\V{operands}_\V{of}_\V{cur}_\V{to}_\V{live}}}
\L{\LB{\N{15}\V{:}}\Tab{14}{\V{remove}_\V{cur}_\V{from}_\V{live}}}
\L{\LB{\N{16}\V{:}}\Tab{10}{\}}}
\L{\LB{\N{17}\V{:}}\Tab{7}{\}_\K{else}_\K{if}(\V{cur}_\V{is}_\V{load})_\{}}
\L{\LB{\N{18}\V{:}}\Tab{10}{\K{if}_(\V{value}_\V{of}_\V{cur}_\V{is}_\V{in}_\V{live}_\|\,\|_\V{cur}_\V{is}_\V{already}_\V{taken}_\V{in}_\V{inter}\-\V{thread}_\V{step})_\{}}
\L{\LB{\N{19}\V{:}}\Tab{14}{\V{take}_\V{cur}}}
\L{\LB{\N{20}\V{:}}\Tab{14}{\V{add}_\V{pointer}_\V{operand}_\V{of}_\V{cur}_\V{to}_\V{live}}}
\L{\LB{\N{21}\V{:}}\Tab{10}{\}}}
\L{\LB{\N{22}\V{:}}\Tab{7}{\}_\K{else}_\K{if}(\V{cur}_\V{is}_\V{store})_\{}}
\L{\LB{\N{23}\V{:}}\Tab{10}{\K{if}_(\V{cur}_\V{is}_\V{already}_\V{taken}_\V{in}_\V{inter}\-\V{thread}_\V{step})_\{}}
\L{\LB{\N{24}\V{:}}\Tab{14}{\V{take}_\V{cur}}}
\L{\LB{\N{25}\V{:}}\Tab{14}{\C{}//_note:_don{'}t_add_value_since_we_only_need_to_fix_memory\CE{}}}
\L{\LB{\N{26}\V{:}}\Tab{14}{\C{}//_address_to_avoid_race\CE{}}}
\L{\LB{\N{27}\V{:}}\Tab{14}{\V{add}_\V{pointer}_\V{operand}_\V{of}_\V{cur}_\V{to}_\V{live}}}
\L{\LB{\N{28}\V{:}}\Tab{10}{\}}}
\L{\LB{\N{29}\V{:}}\Tab{10}{\K{for}_\V{each}_\V{load}_\V{in}_\V{live}_\{}}
\L{\LB{\N{30}\V{:}}\Tab{13}{\K{if}_(\V{pointer}_\V{operand}_\V{of}_\V{cur}_==_\V{pointer}_\V{operand}_\V{of}_\V{load})_\{}}
\L{\LB{\N{31}\V{:}}\Tab{17}{\V{take}_\V{cur}_\K{if}_\V{it}_\V{is}_\V{not}_\V{taken}_\V{yet}}}
\L{\LB{\N{32}\V{:}}\Tab{17}{\C{}//_below_code_corresponds_to_updatebetween_in_bouncer\CE{}}}
\L{\LB{\N{33}\V{:}}\Tab{17}{\K{if}(\V{both}_\V{are}_\V{concrete})_\{}}
\L{\LB{\N{34}\V{:}}\Tab{20}{\C{}//_this_removal_is_safe_since_the_control_dependencies_for\CE{}}}
\L{\LB{\N{35}\V{:}}\Tab{20}{\C{}//_cur_and_load_are_fixed_by_taking_them_into_the_slice\CE{}}}
\L{\LB{\N{36}\V{:}}\Tab{20}{\V{remove}_\V{load}_\V{from}_\V{live}}}
\L{\LB{\N{37}\V{:}}\Tab{17}{\}_\K{else}_\{}}
\L{\LB{\N{38}\V{:}}\Tab{20}{\C{}//_Also_possible:_can_leave_the_load_in_live_without\CE{}}}
\L{\LB{\N{39}\V{:}}\Tab{20}{\C{}//_adding_constraints\CE{}}}
\L{\LB{\N{40}\V{:}}\Tab{20}{\V{add}_\V{constraints}_\V{to}_\V{make}_\V{the}_\V{two}_\V{pointer}_\V{operands}_\V{equal}}}
\L{\LB{\N{41}\V{:}}\Tab{20}{\V{remove}_\V{load}_\V{from}_\V{live}}}
\L{\LB{\N{42}\V{:}}\Tab{17}{\}}}
\L{\LB{\N{43}\V{:}}\Tab{17}{\V{add}_\V{value}_\K{and}_\V{pointer}_\V{operand}_\V{of}_\V{cur}_\V{to}_\V{live}}}
\L{\LB{\N{44}\V{:}}\Tab{13}{\}_\K{else}_\K{if}(\V{pointer}_\V{operand}_\V{of}_\V{cur}_\V{may}_\V{alias}_\V{operand}_\V{of}_\V{load})_\{}}
\L{\LB{\N{45}\V{:}}\Tab{17}{\V{take}_\V{cur}_\K{if}_\V{it}_\V{is}_\V{not}_\V{taken}_\V{yet}}}
\L{\LB{\N{46}\V{:}}\Tab{17}{\V{add}_\V{value}_\K{and}_\V{pointer}_\V{operand}_\V{of}_\V{cur}_\V{to}_\V{live}}}
\L{\LB{\N{47}\V{:}}\Tab{17}{\C{}//_bouncer_has_an_additional_optimization:_if_cur_is\CE{}}}
\L{\LB{\N{48}\V{:}}\Tab{17}{\C{}//_determined_by_concrete_values_in_live,_don{'}t_take_it.\CE{}}}
\L{\LB{\N{49}\V{:}}\Tab{17}{\C{}//_since_next_run,_the_concrete_values_in_live_will_get_the\CE{}}}
\L{\LB{\N{50}\V{:}}\Tab{17}{\C{}//_same_value,_so_cur_will_get_the_same_pointer_operand_value\CE{}}}
\L{\LB{\N{51}\V{:}}\Tab{13}{\}}}
\L{\LB{\N{52}\V{:}}\Tab{10}{\}}}
\L{\LB{\N{53}\V{:}}\Tab{7}{\}_\K{else}_\K{if}(\V{cur}_\V{is}_\V{branch})_\{}}
\L{\LB{\N{54}\V{:}}\Tab{9}{\K{if}(!\V{postdominate}(\V{slice}.\V{head},_\V{cur})}}
\L{\LB{\N{55}\V{:}}\Tab{12}{\|\,\|_\V{writtenbetween}(\V{cur},_\V{slice}.\V{head})}}
\L{\LB{\N{56}\V{:}}\Tab{12}{\|\,\|_\V{syncbetween}(\V{cur},_\V{slice}.\V{head}))_\{}}
\L{\LB{\N{57}\V{:}}\Tab{10}{\}}}
\L{\LB{\N{58}\V{:}}\Tab{7}{\}_\K{else}_\K{if}(\V{cur}_\V{is}_\V{ret})_\{}}
\L{\LB{\N{59}\V{:}}\Tab{9}{\V{call}_=_\V{trace}.\V{findcall}(\V{cur});}}
\L{\LB{\N{60}\V{:}}\Tab{9}{\K{if}(\V{maywriteF}(\V{calledFunc}(\V{call}),_\V{live})}}
\L{\LB{\N{61}\V{:}}\Tab{11}{\|\,\|_\V{maysync}(\V{calledFunc}(\V{call})))_\{}}
\L{\LB{\N{62}\V{:}}\Tab{11}{\V{take}_\V{cur}}}
\L{\LB{\N{63}\V{:}}\Tab{9}{\}_\K{else}}}
\L{\LB{\N{64}\V{:}}\Tab{11}{\V{jump}_\V{to}_\V{call}}}
\L{\LB{\N{65}\V{:}}\Tab{7}{\}_\K{else}_\K{if}(\V{cur}_\V{is}_\V{call})_\{}}
\L{\LB{\N{66}\V{:}}\Tab{9}{\V{take}_\V{cur}}}
\L{\LB{\N{67}\V{:}}\Tab{9}{\V{take}_\V{arg}_\V{setup}}}
\L{\LB{\N{68}\V{:}}\Tab{7}{\}}}
\L{\LB{\N{69}\V{:}_\}}}
\L{\LB{\N{70}\V{:}_}}
\index{maywriteF}\Proc{maywriteF}\L{\LB{\N{71}\V{:}_\V{maywriteF}(\V{function},_\V{live})_\{}}
\L{\LB{\N{72}\V{:}}\Tab{7}{\K{for}_\V{each}_\V{store}_\V{reachable}_\V{from}_\V{function}_\{}}
\L{\LB{\N{73}\V{:}}\Tab{10}{\K{for}_\V{each}_\V{load}_\V{in}_\V{live}_\{}}
\L{\LB{\N{74}\V{:}}\Tab{14}{\K{if}_\V{pointer}_\V{operand}_\V{of}_\V{load}_\V{may}_\V{alias}_\V{pointer}_\V{operand}_\V{of}_\V{store}}}
\L{\LB{\N{75}\V{:}}\Tab{18}{\K{return}_\K{true};}}
\L{\LB{\N{76}\V{:}}\Tab{10}{\}}}
\L{\LB{\N{77}\V{:}}\Tab{7}{\}}}
\L{\LB{\N{78}\V{:}}\Tab{7}{\K{return}_\K{false};}}
\L{\LB{\N{79}\V{:}_\}}}
\L{\LB{\N{80}\V{:}_}}
\index{writtenbetween}\Proc{writtenbetween}\L{\LB{\N{81}\V{:}_\V{writtenbetween}(\V{cur},_\V{head})_\{}}
\L{\LB{\N{82}\V{:}}\Tab{6}{\V{postdom}_=_\V{postdominator}_\V{of}_(\V{cur}.\K{true},_\V{cur}.\K{false})}}
\L{\LB{\N{83}\V{:}}\Tab{6}{\K{for}_\V{each}_\V{store}_\V{in}_[\V{cur},_\V{postdom}]}}
\L{\LB{\N{84}\V{:}}\Tab{9}{\K{if}_\V{pointer}_\V{operand}_\V{of}_\V{load}_\V{may}_\V{alias}_\V{pointer}_\V{operand}_\V{of}_\V{store}}}
\L{\LB{\N{85}\V{:}}\Tab{12}{\K{return}_\K{true};}}
\L{\LB{\N{86}\V{:}}\Tab{6}{\K{for}_\V{each}_\V{value}_\V{in}_\V{liveset}}}
\L{\LB{\N{87}\V{:}}\Tab{9}{\K{if}_\V{value}_\V{is}_\K{defined}_\V{in}_[\V{cur},_\V{postdom}]}}
\L{\LB{\N{88}\V{:}}\Tab{12}{\K{return}_\K{true};}}
\L{\LB{\N{89}\V{:}}\Tab{6}{\K{return}_\K{false};}}
\L{\LB{\N{90}\V{:}_\}}}
