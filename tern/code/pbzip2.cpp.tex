% Remember to use the lgrind style

\Head{}
\File{pbzip2.cpp}{2012}{8}{31}{22:25}{574}
\index{main}\Proc{main}\L{\LB{}\Tab{2}{\V{main}(\K{int}_\V{argc},_\K{char}_*\V{argv}[\,])_\{}}
\L{\LB{}\Tab{4}{\K{int}_\V{i},_\V{nthread}_=_\V{atoi}(\V{argv}[\N{1}]);}}
\L{\LB{}\Tab{4}{\K{for}(\V{i}=\N{0};_\V{i}\<\V{nthread};_++\V{i})}}
\L{\LB{}\Tab{6}{\V{pthread\_create}(\V{worker});_\C{}//_create_worker_threads\CE{}}}
\L{\LB{}\Tab{4}{\K{for}(\V{i}=\N{0};_\V{i}\<\V{nthread};_++\V{i})}}
\L{\LB{}\Tab{6}{\V{worklist}.\V{add}(\V{read\_block}(\V{i}));_\C{}//_add_block_to_work_list\CE{}}}
\L{\LB{}\Tab{4}{\C{}//_Error:_missing_\CE{}\V{pthread\_join}()\C{}_operations\CE{}}}
\L{\LB{}\Tab{4}{\V{worklist}.\V{clear}();_\C{}//_clear_work_list\CE{}}}
\L{\LB{}\Tab{4}{.\,.\,.}}
\L{\LB{}\Tab{2}{\}}}
\index{worker}\Proc{worker}\L{\LB{}\Tab{2}{\V{worker}()_\{_\C{}//_worker_threads_for_compressing_file_blocks\CE{}}}
\L{\LB{}\Tab{4}{\V{block}_=_\V{worklist}.\V{get}();_\C{}//_get_a_file_block_from_work_list\CE{}}}
\L{\LB{}\Tab{4}{\V{compress}(\V{block});}}
\L{\LB{}\Tab{2}{\}}}
\index{compress}\Proc{compress}\L{\LB{}\Tab{2}{\V{compress}(\V{block\_t}_\V{block})_\{}}
\L{\LB{}\Tab{4}{\K{if}(\V{block}.\V{data}[\N{0}]_==_\V{block}.\V{data}[\N{1}])}}
\L{\LB{}\Tab{6}{.\,.\,.}}
\L{\LB{}\Tab{2}{\}}}
